{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luisdonaldogallosotapia/Desktop/Desarrollo Web/Todo-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/luisdonaldogallosotapia/Desktop/Desarrollo Web/Todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/luisdonaldogallosotapia/Desktop/Desarrollo Web/Todo-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luisdonaldogallosotapia/Desktop/Desarrollo Web/Todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import Swal from'sweetalert2';import{AddTodoByUser}from\"../helpers/AddTodoByUser\";import{v4 as uuidv4}from'uuid';import{TodosContext}from\"../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=function Form(){// state para el nombte y la descripción\nvar _useState=useState({name:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),NewTodo=_useState2[0],setNewTodo=_useState2[1];var _useContext=useContext(TodosContext),Todos=_useContext.Todos,setTodos=_useContext.setTodos,IsEditTodo=_useContext.IsEditTodo,EditTodo=_useContext.EditTodo,setIsEditTodo=_useContext.setIsEditTodo;useEffect(function(){setNewTodo({name:EditTodo.name,description:EditTodo.description});},[EditTodo]);var CancelEdit=function CancelEdit(){setNewTodo({name:\"\",description:\"\"});setIsEditTodo(false);};//handler para obtener y guardar el resultado del nombre y la descripción\nvar TodoNameHandler=function TodoNameHandler(e){setNewTodo({name:e.target.value,description:NewTodo.description});};var TodoDescriptHandler=function TodoDescriptHandler(e){setNewTodo({name:NewTodo.name,description:e.target.value});};//funcion para agregar un todo\nvar addTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$AddTodoByUser,id;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(NewTodo.name===\"\"||NewTodo.name.length<3)){_context.next=3;break;}Swal.fire({icon:'error',title:'Error',text:\"El Nombre de la Tarea es muy Corto\"});return _context.abrupt(\"return\");case 3:_context.next=5;return AddTodoByUser(NewTodo.name);case 5:_yield$AddTodoByUser=_context.sent;id=_yield$AddTodoByUser.id;// agregar el todo al arreglo principal\nsetTodos([{name:NewTodo.name,description:NewTodo.description,status:false,id:uuidv4()}].concat(_toConsumableArray(Todos)));if(IsEditTodo){setTodos(function(current){return current.filter(function(todo){return todo.id!==EditTodo.id;});});}setNewTodo({name:\"\",description:\"\"});Swal.fire({position:'center',icon:'success',title:\"La Tarea ha sido \".concat(IsEditTodo?\"Editada\":\"Creada\",\" Correctamente con el id \").concat(id),showConfirmButton:false,timer:2000});setIsEditTodo(false);case 12:case\"end\":return _context.stop();}},_callee);}));return function addTodo(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 mb-10  grid  place-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" -mx-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 w-2/3 px-3 mb-6 md:mb-0\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"uppercase tracking-wide text-gray-700 text-white text-xs font-bold mb-5\",children:\"Nombre de la Tarea\"}),/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-3 px-4 mb-3 leading-tight my-3\",type:\"text\",onChange:TodoNameHandler,value:NewTodo.name||\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 w-2/3 px-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"uppercase tracking-wide text-white text-gray-700 text-xs font-bold \",children:\"Descripci\\xF3n (opcional)\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"appearance-none h-32 block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 my-3 leading-tight\",type:\"text\",onChange:TodoDescriptHandler,value:NewTodo.description||\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:flex lg:justify-between\",children:[IsEditTodo?/*#__PURE__*/_jsx(\"button\",{className:\"w-full mx-2 mb-2  block bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 border border-green-800 rounded\",onClick:addTodo,children:\"Guardar\"}):/*#__PURE__*/_jsx(\"button\",{className:\"w-full mb-2 block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2  border border-blue-700 rounded\",onClick:addTodo,children:\"Agregar\"}),IsEditTodo?/*#__PURE__*/_jsx(\"button\",{className:\"w-full mx-2 mb-2 block bg-rose-500 hover:bg-rose-700 text-white font-bold py-2 px-4 border border-rose-700 rounded\",onClick:CancelEdit,children:\"Cancelar\"}):null]})]});};export default Form;","map":{"version":3,"names":["useContext","useEffect","useState","Swal","AddTodoByUser","v4","uuidv4","TodosContext","jsx","_jsx","jsxs","_jsxs","Form","_useState","name","description","_useState2","_slicedToArray","NewTodo","setNewTodo","_useContext","Todos","setTodos","IsEditTodo","EditTodo","setIsEditTodo","CancelEdit","TodoNameHandler","e","target","value","TodoDescriptHandler","addTodo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$AddTodoByUser","id","wrap","_callee$","_context","prev","next","length","fire","icon","title","text","abrupt","sent","status","concat","_toConsumableArray","current","filter","todo","position","showConfirmButton","timer","stop","_x","apply","arguments","className","children","type","onChange","onClick"],"sources":["/Users/luisdonaldogallosotapia/Desktop/Desarrollo Web/Todo-app/src/Components/Form.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport Swal from 'sweetalert2'\nimport { AddTodoByUser } from \"../helpers/AddTodoByUser\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { TodosContext } from \"../App\";\n\nconst Form = () =>{\n    // state para el nombte y la descripción\n    const [NewTodo, setNewTodo] = useState({\n        name:\"\",\n        description:\"\"\n    });\n    const {Todos,setTodos,IsEditTodo,EditTodo,setIsEditTodo} = useContext(TodosContext);\n\n    useEffect(() => {\n      setNewTodo({\n        name: EditTodo.name,\n        description: EditTodo.description\n      })\n    }, [EditTodo])\n\n    const CancelEdit = () => {\n        setNewTodo({\n            name:\"\",\n            description:\"\"\n        })\n        setIsEditTodo(false)\n    }\n    \n    //handler para obtener y guardar el resultado del nombre y la descripción\n    const TodoNameHandler = (e) =>{\n        setNewTodo({\n            name:e.target.value,\n            description: NewTodo.description\n    });\n    }\n    \n    const TodoDescriptHandler = (e) =>{\n        setNewTodo({\n          name: NewTodo.name,\n          description: e.target.value\n        });\n    }\n\n    //funcion para agregar un todo\n    const addTodo = async(e) =>{\n        //validación al nombre del todo\n        if(NewTodo.name === \"\" || NewTodo.name.length<3){\n            Swal.fire({\n                icon: 'error',\n                title: 'Error',\n                text:\"El Nombre de la Tarea es muy Corto\"\n              })\n              return\n        }\n        const {id} = await AddTodoByUser(NewTodo.name);\n        // agregar el todo al arreglo principal\n       setTodos(\n        [\n            {\n                name:NewTodo.name,\n                description:NewTodo.description,\n                status:false,\n                id: uuidv4()\n            }\n        ,...Todos]);\n        \n        if(IsEditTodo){\n            setTodos((current) =>\n            current.filter((todo) => todo.id !== EditTodo.id)\n            );\n        }\n\n        \n        setNewTodo({\n            name:\"\",\n            description:\"\"\n        })\n\n        Swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: `La Tarea ha sido ${IsEditTodo? \"Editada\":\"Creada\"} Correctamente con el id ${id}`,\n            showConfirmButton: false,\n            timer: 2000\n          })\n\n          setIsEditTodo(false);\n    }\n\n    return(\n        <div className=\"px-5 mb-10  grid  place-content-center\">\n            <div className=\" -mx-3 mb-6\">\n                <div className=\"w-96 w-2/3 px-3 mb-6 md:mb-0\">\n                <label className=\"uppercase tracking-wide text-gray-700 text-white text-xs font-bold mb-5\">\n                    Nombre de la Tarea\n                </label>\n                <input className=\"appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-3 px-4 mb-3 leading-tight my-3\" type=\"text\" onChange={TodoNameHandler} value={NewTodo.name || \"\"}/>\n                </div>\n                <div className=\"w-96 w-2/3 px-3\">\n                <label className=\"uppercase tracking-wide text-white text-gray-700 text-xs font-bold \">\n                    Descripción (opcional)\n                </label>\n                <textarea className=\"appearance-none h-32 block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 my-3 leading-tight\" type=\"text\" onChange={TodoDescriptHandler} value={NewTodo.description || \"\"} />\n                </div>\n            </div>\n            <div className=\"lg:flex lg:justify-between\">\n                {IsEditTodo? \n                    <button className=\"w-full mx-2 mb-2  block bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 border border-green-800 rounded\"\n                        onClick={addTodo}>\n                        Guardar\n                    </button>\n                : \n                    <button className=\"w-full mb-2 block bg-blue-500 hover:bg-blue-700 text-white font-bold py-2  border border-blue-700 rounded\"\n                        onClick={addTodo}>\n                        Agregar\n                    </button>\n                }\n                {IsEditTodo?\n                    <button className=\"w-full mx-2 mb-2 block bg-rose-500 hover:bg-rose-700 text-white font-bold py-2 px-4 border border-rose-700 rounded\"\n                        onClick={CancelEdit}>\n                        Cancelar\n                    </button>\n                :\n                    null\n                }\n                    \n            </div>\n            \n\n            \n        </div>\n        \n    );\n}\n\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}